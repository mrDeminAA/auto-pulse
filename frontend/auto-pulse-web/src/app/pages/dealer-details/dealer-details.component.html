@if (loading) {
  <div class="text-center py-5">
    <div class="spinner-border text-primary" role="status">
      <span class="visually-hidden">–ó–∞–≥—Ä—É–∑–∫–∞...</span>
    </div>
  </div>
} @else if (error) {
  <div class="alert alert-danger" role="alert">
    {{ error }}
    <a routerLink="/dealers" class="alert-link">–í–µ—Ä–Ω—É—Ç—å—Å—è –∫ —Å–ø–∏—Å–∫—É –¥–∏–ª–µ—Ä–æ–≤</a>
  </div>
} @else if (dealer) {
  <div class="container">
    <!-- –•–ª–µ–±–Ω—ã–µ –∫—Ä–æ—à–∫–∏ -->
    <nav aria-label="breadcrumb" class="mb-4">
      <ol class="breadcrumb">
        <li class="breadcrumb-item"><a routerLink="/dealers">–î–∏–ª–µ—Ä—ã</a></li>
        <li class="breadcrumb-item active">{{ dealer.name }}</li>
      </ol>
    </nav>

    <!-- –û—Å–Ω–æ–≤–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è -->
    <div class="row">
      <div class="col-md-8">
        <div class="card mb-4">
          <div class="card-header bg-primary text-white">
            <h4 class="mb-0">üè¢ {{ dealer.name }}</h4>
          </div>
          <div class="card-body">
            <div class="row mb-3">
              <div class="col-md-6">
                <h6>üìç –†—ã–Ω–æ–∫</h6>
                <p class="mb-0">{{ dealer.marketName }} ({{ dealer.marketRegion }})</p>
              </div>
              <div class="col-md-6">
                <h6>‚≠ê –†–µ–π—Ç–∏–Ω–≥</h6>
                <p class="mb-0" [class]="getRatingClass(dealer.rating)">
                  {{ dealer.rating.toFixed(1) }} –∏–∑ 5.0
                </p>
              </div>
            </div>

            <hr>

            <div class="row mb-3">
              <div class="col-md-6">
                <h6>üìû –ö–æ–Ω—Ç–∞–∫—Ç—ã</h6>
                <p class="mb-0">{{ dealer.contactInfo || '–ù–µ —É–∫–∞–∑–∞–Ω—ã' }}</p>
              </div>
              <div class="col-md-6">
                <h6>üè† –ê–¥—Ä–µ—Å</h6>
                <p class="mb-0">{{ dealer.address || '–ù–µ —É–∫–∞–∑–∞–Ω' }}</p>
              </div>
            </div>

            <hr>

            <div class="row">
              <div class="col-md-6">
                <h6>üöó –í—Å–µ–≥–æ –∞–≤—Ç–æ–º–æ–±–∏–ª–µ–π</h6>
                <p class="mb-0 fs-4">{{ dealer.carsCount }}</p>
              </div>
              <div class="col-md-6">
                <h6>‚úÖ –í –Ω–∞–ª–∏—á–∏–∏</h6>
                <p class="mb-0 fs-4">{{ dealer.availableCarsCount }}</p>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- –ë–æ–∫–æ–≤–∞—è –ø–∞–Ω–µ–ª—å -->
      <div class="col-md-4">
        <div class="card mb-4">
          <div class="card-header bg-info text-white">
            <h5 class="mb-0">üìä –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è</h5>
          </div>
          <div class="card-body">
            <ul class="list-group list-group-flush">
              <li class="list-group-item d-flex justify-content-between">
                <span>–í–∞–ª—é—Ç–∞ —Ä—ã–Ω–∫–∞:</span>
                <strong>{{ dealer.marketCurrency }}</strong>
              </li>
              <li class="list-group-item d-flex justify-content-between">
                <span>–î–∞—Ç–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è:</span>
                <strong>{{ dealer.createdAt | date:'dd.MM.yyyy' }}</strong>
              </li>
              @if (dealer.updatedAt) {
                <li class="list-group-item d-flex justify-content-between">
                  <span>–û–±–Ω–æ–≤–ª–µ–Ω–æ:</span>
                  <strong>{{ dealer.updatedAt | date:'dd.MM.yyyy' }}</strong>
                </li>
              }
            </ul>
          </div>
        </div>

        <div class="card">
          <div class="card-body">
            <a routerLink="/dealers" class="btn btn-outline-primary w-100">
              ‚Üê –í–µ—Ä–Ω—É—Ç—å—Å—è –∫ —Å–ø–∏—Å–∫—É
            </a>
          </div>
        </div>
      </div>
    </div>
  </div>
}
